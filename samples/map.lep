var map = fn(arr, f):
    var iter = fn(arr, accumulated):
        if (len(arr) == 0):
            ret accumulated;
        else:
            iter(tail(arr), push(accumulated, f(head(arr))));
        end
    end;
    iter(arr, []);
end;

var a = [1, 2, 3, 4];
var double = fn(x): ret x * 2; end;

map(a, double);
